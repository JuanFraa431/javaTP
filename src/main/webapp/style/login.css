/* ===========================
   Misterio en la Mansión — Login
   Tema tenebroso + animaciones
   =========================== */

/* -------- Variables -------- */
:root{
  --bg1: #070a10;
  --bg2: #0f1a2b;
  --text: #e9eef8;
  --muted: #a6b3c7;
  --accent: #f7b733;    /* farol dorado */
  --accent2: #ff7a18;   /* naranja tenue */
  --danger: #e85353;

  --glass: rgba(14, 20, 32, 0.55);
  --edge: rgba(255,255,255,.12);
  --radius: 16px;
  --shadow: 0 18px 45px rgba(0,0,0,.55);
  --blur: 12px;

  --scan-speed: 12s;
  --fog-speed: 60s;
  --bat-speed: 8s;
  --ring-speed: 10s;

  --title-size: clamp(2rem, 5vw + 1rem, 4rem);
}

/* -------- Reset / base -------- */
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{
  font-family: 'Nunito', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: var(--text);
  background: radial-gradient(1200px 600px at 20% 10%, rgba(255,255,255,.03), transparent 60%),
              linear-gradient(135deg, var(--bg1), var(--bg2) 60%);
  overflow: hidden;
}

/* -------- Escena decorativa (parallax) -------- */
#scene{
  position: fixed; inset: 0; pointer-events: none; z-index: 0;
}

/* Luna con halo */
.moon{
  position: absolute;
  top: 8vh; right: 10vw;
  width: 120px; height: 120px; border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fff, #cdd6e6 35%, #a1afc6 60%, transparent 62%);
  box-shadow: 0 0 120px 30px rgba(255,255,255,.08);
  filter: drop-shadow(0 0 28px rgba(255,255,255,.12));
  animation: moonPulse 6s ease-in-out infinite;
}

/* Capas de niebla */
.fog{
  position: absolute; inset: -10vh -10vw;
  background: url("data:image/svg+xml,%3Csvg width='800' height='400' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cfilter id='a'%3E%3CfeTurbulence baseFrequency='0.006' numOctaves='3' seed='2'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='table' tableValues='0 0.35'/%3E%3C/feComponentTransfer%3E%3CfeGaussianBlur stdDeviation='8'/%3E%3C/filter%3E%3C/defs%3E%3Crect filter='url(%23a)' width='100%25' height='100%25' fill='white'/%3E%3C/svg%3E") center/cover repeat;
  opacity:.12;
}
.layer1{ animation: fogDrift var(--fog-speed) linear infinite; }
.layer2{ animation: fogDrift calc(var(--fog-speed) * 0.8) linear infinite reverse; opacity:.10; }
.layer3{ animation: fogDrift calc(var(--fog-speed) * 1.2) linear infinite; opacity:.08; }

/* Murciélagos */
.bats .bat{
  position:absolute;
  width: 22px; height: 10px;
  background: currentColor;
  color: #0d121d;
  border-radius: 10px 10px 2px 2px;
  top: 18vh; left: 8vw;
  transform-origin: center;
  animation: batFly var(--bat-speed) ease-in-out infinite;
  filter: drop-shadow(0 0 8px rgba(0,0,0,.4));
}
.b1{ top: 22vh; left: 8vw; animation-duration: 7s; }
.b2{ top: 14vh; left: 18vw; animation-duration: 9s; animation-delay: .3s;}
.b3{ top: 28vh; left: 24vw; animation-duration: 8.5s; animation-delay: .6s;}
.bats .bat::before,
.bats .bat::after{
  content:""; position:absolute; top: -3px; width:14px; height:10px;
  background: currentColor; border-radius: 0 10px 10px 0;
  transform-origin: left center;
}
.bats .bat::before{ left:-12px; border-radius: 10px 0 0 10px; transform-origin: right center; }
.bats .bat::after{ left:20px; }
.bats .bat::before{ animation: wing 0.35s ease-in-out infinite; }
.bats .bat::after{ animation: wing 0.35s ease-in-out infinite reverse; }

/* Viñeta + scanlines */
.vignette{
  position:absolute; inset:0;
  background:
    repeating-linear-gradient(to bottom, rgba(255,255,255,.03) 0 2px, rgba(0,0,0,0) 2px 4px),
    radial-gradient(circle at 50% 120%, rgba(0,0,0,.55), rgba(0,0,0,.12) 40%, transparent 65%);
  mix-blend-mode: soft-light;
  opacity:.6;
  animation: scan var(--scan-speed) linear infinite;
}

/* -------- Layout principal -------- */
#contenedor{
  position: relative; z-index: 1;
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr;
  align-items: start;
  justify-items: center;
  padding: clamp(16px, 3vw, 36px);
}

/* Marca / Título de juego */
.brand{
  text-align: center;
  margin: 10px 0 14px;
  position: relative;
}
.game-title{
  font-family: 'Creepster', system-ui, sans-serif;
  font-size: var(--title-size);
  line-height: 1;
  letter-spacing: 1px;
  color: #f2f4ff;
  text-shadow:
    0 0 18px rgba(247,183,51,.15),
    0 2px 0 rgba(0,0,0,.6),
    0 22px 40px rgba(0,0,0,.55);
  animation: titleFlicker 4.2s ease-in-out infinite;
}
.tagline{
  margin-top: 6px;
  color: var(--muted);
  font-weight: 700;
  letter-spacing: .3px;
  text-shadow: 0 1px 0 rgba(0,0,0,.5);
  animation: fadeUp .8s ease both .2s;
}

/* Farol */
.lantern{
  position:absolute; left: 50%; transform: translateX(-50%);
  top: -18px; width: 16px; height: 28px;
  background: radial-gradient(circle at 50% 45%, #fff6c9 0 40%, rgba(255,184,78,.85) 40% 70%, transparent 72%);
  filter: blur(0.5px) drop-shadow(0 0 18px rgba(247,183,51,.5));
  animation: lantern 2.3s ease-in-out infinite;
}

/* -------- Card de login -------- */
#central{ width:min(92vw, 520px); }
#login{
  position: relative;
  padding: 36px 28px 28px;
  border-radius: var(--radius);
  background: var(--glass);
  border: 1px solid var(--edge);
  box-shadow: var(--shadow);
  backdrop-filter: blur(var(--blur)) saturate(120%);
  -webkit-backdrop-filter: blur(var(--blur)) saturate(120%);
  overflow: hidden;
  animation: floatIn .6s ease both .1s;
}
#login::before{
  content:"";
  position:absolute; inset:-2px; border-radius: calc(var(--radius) + 2px);
  background: conic-gradient(from 180deg,
    rgba(247,183,51,.0),
    rgba(247,183,51,.55),
    rgba(255,122,24,.45),
    rgba(247,183,51,.0)
  );
  filter: blur(12px); opacity:.32; pointer-events:none;
  animation: ring var(--ring-speed) linear infinite;
}

.titulo{
  font-family: 'Overpass', 'Nunito', sans-serif;
  text-align:center; font-weight: 800;
  letter-spacing:.6px; margin-bottom: 14px;
  font-size: clamp(1.2rem, 2.2vw + .6rem, 1.8rem);
  color: var(--text);
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
}

/* Mensaje de error */
.alerta{
  background: #2b0f12; color: #ffc9c9;
  border: 1px solid #7a2b2f;
  padding: 10px 12px; border-radius: 10px;
  margin: 0 0 12px 0;
  animation: shake .3s ease;
}

/* Inputs */
.input-container{ position:relative; margin-bottom: 14px; }
.input-container i{
  position:absolute; left:12px; top:50%; transform: translateY(-50%);
  font-size: 1rem; color: color-mix(in oklab, var(--accent), white 10%);
  text-shadow: 0 0 10px rgba(247,183,51,.45);
}
.input-container input{
  width:100%;
  padding: 12px 12px 12px 40px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(9,14,24,.58);
  color: var(--text);
  outline: none;
  transition: border .2s, box-shadow .2s, background .2s, transform .05s;
  box-shadow: inset 0 0 0 9999px rgba(255,255,255,.02);
}
.input-container input::placeholder{ color: #b9c6da; opacity:.7; }
.input-container input:focus{
  border-color: color-mix(in oklab, var(--accent), white 12%);
  box-shadow: 0 0 0 3px rgba(247,183,51,.15), 0 8px 22px rgba(0,0,0,.35);
  background: rgba(9,14,24,.75); transform: translateY(-1px);
}
.input-container input.is-invalid{
  border-color: var(--danger);
  box-shadow: 0 0 0 3px rgba(232,83,83,.15);
}

/* Botón */
#loginform button{
  position: relative;
  width:100%; padding: 12px 14px; margin-top: 6px;
  border:0; border-radius: 12px; color:#0a0f18;
  font-weight: 900; letter-spacing:.4px; cursor:pointer;
  background: linear-gradient(180deg,
              color-mix(in oklab, var(--accent), white 12%),
              var(--accent2));
  box-shadow: 0 10px 25px rgba(247,183,51,.28), inset 0 0 0 1px rgba(255,255,255,.35);
  transition: transform .08s, box-shadow .18s, filter .18s;
}
#loginform button i{ margin-right: 8px; }
#loginform button:hover{
  box-shadow: 0 16px 38px rgba(247,183,51,.35),
              inset 0 0 0 1px rgba(255,255,255,.55);
  filter: brightness(1.05); transform: translateY(-1px);
}
#loginform button:active{
  transform: translateY(0);
  box-shadow: 0 8px 18px rgba(247,183,51,.25),
              inset 0 0 0 1px rgba(0,0,0,.15);
}
#loginform button::after{
  content:""; position:absolute; inset:0; border-radius:12px; pointer-events:none;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.28), transparent);
  mix-blend-mode: screen; opacity:0; animation: sweep 3s ease-in-out infinite;
}

/* Links secundarios */
.mini-links{
  display:flex; gap:10px; justify-content:center; align-items:center;
  margin-top: 12px; color: var(--muted); font-weight:700;
}
.mini-links a{
  color: color-mix(in oklab, var(--accent), white 10%);
  text-decoration: none;
}
.mini-links a:hover{ text-decoration: underline; }

/* Responsivo */
@media (max-width: 520px){
  #central{ width: 94vw; }
  #login{ padding: 28px 22px 24px; }
}

/* -------- Accesibilidad -------- */
:focus-visible{ outline: 2px dashed color-mix(in oklab, var(--accent), white 20%); outline-offset: 3px; }

/* -------- Animaciones -------- */
@keyframes fogDrift{ 0%{transform: translateX(-5%) } 100%{ transform: translateX(5%) } }
@keyframes moonPulse{ 0%,100%{ filter: drop-shadow(0 0 18px rgba(255,255,255,.10)); } 50%{ filter: drop-shadow(0 0 28px rgba(255,255,255,.18)); } }
@keyframes scan{ 0%{ background-position: 0 0, 0 0; } 100%{ background-position: 0 6px, 0 0; } }
@keyframes ring{ to { transform: rotate(360deg); } }
@keyframes wing{
  0%,100%{ transform: rotate(18deg) }
  50%{ transform: rotate(-24deg) }
}
@keyframes batFly{
  0%{ transform: translate(0,0) scale(1) }
  50%{ transform: translate(12vw,-2vh) scale(1.05) }
  100%{ transform: translate(24vw,0) scale(1) }
}
@keyframes fadeUp{
  from{ opacity:0; transform: translateY(8px) }
  to{ opacity:1; transform: translateY(0) }
}
@keyframes floatIn{
  from{ opacity:0; transform: translateY(10px) scale(.98) }
  to{ opacity:1; transform: translateY(0) scale(1) }
}
@keyframes titleFlicker{
  0%, 19%, 21%, 23%, 100% { text-shadow:
    0 0 14px rgba(247,183,51,.18),
    0 2px 0 rgba(0,0,0,.6),
    0 22px 40px rgba(0,0,0,.55); opacity: 1; }
  20%, 22% { text-shadow:
    0 0 4px rgba(247,183,51,.05),
    0 2px 0 rgba(0,0,0,.6); opacity: .92; }
}
@keyframes shake{
  0%,100%{ transform: translateX(0) }
  25%{ transform: translateX(-3px) }
  50%{ transform: translateX(3px) }
  75%{ transform: translateX(-2px) }
}
@keyframes lantern{
  0%,100%{ transform: translate(-50%,0) rotate(-1deg); filter: drop-shadow(0 0 14px rgba(247,183,51,.45)); }
  50%{ transform: translate(-50%,1px) rotate(1deg); filter: drop-shadow(0 0 22px rgba(247,183,51,.65)); }
}
@keyframes sweep{
  0%, 78% { opacity: 0; transform: translateX(-60%); }
  88%     { opacity: .75; }
  100%    { opacity: 0; transform: translateX(60%); }
}

/* =====================================================
   OVERRIDES PARA CENTRAR TÍTULO + TARJETA EN LA PANTALLA
   ===================================================== */
#contenedor{
  min-height: 100svh;              /* altura real del viewport */
  display: flex;
  flex-direction: column;
  align-items: center;              /* centro horizontal */
  justify-content: center;          /* centro vertical */
  gap: 16px;                        /* espacio entre título y card */
  padding: clamp(12px, 3vw, 24px);
}

#central{
  width: min(92vw, 520px);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
}

.brand{
  margin: 0 0 8px 0;
}

#login{
  margin: 0;
}
