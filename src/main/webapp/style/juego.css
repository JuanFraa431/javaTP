:root{
  --bg1:#070a10; --bg2:#0f1a2b; --text:#e9eef8; --muted:#a6b3c7;
  --accent:#f7b733; --accent2:#ff7a18; --edge:rgba(255,255,255,.12);
  --glass:rgba(14,20,32,.55); --radius:16px; --shadow:0 18px 45px rgba(0,0,0,.55);
  --blur:12px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text);
  font-family:'Nunito',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  background: radial-gradient(1200px 600px at 20% 10%, rgba(255,255,255,.03), transparent 60%),
              linear-gradient(135deg,var(--bg1),var(--bg2) 60%);
}

/* Documentos */
.docs{ position:fixed; top:18px; right:18px; z-index:20; }
.docs-panel{
  position:absolute; right:0; margin-top:8px; width:280px;
  background:var(--glass); border:1px solid var(--edge); border-radius:12px;
  box-shadow:var(--shadow); backdrop-filter: blur(var(--blur)) saturate(120%);
  padding:8px;
}
.doc{
  display:block; width:100%; text-align:left; border:0; cursor:pointer;
  padding:10px 12px; border-radius:10px; background:transparent; color:var(--text);
}
.doc:hover{ background: rgba(255,255,255,.06); }

.btn{ border:0; border-radius:12px; cursor:pointer; font-weight:900; padding:10px 14px; }
.btn-secondary{ background:linear-gradient(180deg,#7da0ff,#6b8cff); color:#0a0f18; }
.btn-primary{ background:linear-gradient(180deg, var(--accent), var(--accent2)); color:#0a0f18; }

/* Modal documento */
.modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background:rgba(0,0,0,.45); z-index:30; }
  
.modal[hidden],
.docs-panel[hidden]{
  display: none !important;
}

.modal-card{
  width:min(760px,94vw); max-height:80vh; overflow:auto;
  background:var(--glass); border:1px solid var(--edge); border-radius:16px;
  box-shadow:var(--shadow); padding:18px 18px 22px; position:relative;
  backdrop-filter: blur(var(--blur)) saturate(120%);
}
.modal-card .close{
  position:absolute; top:10px; right:10px; background:transparent; color:var(--text);
  border:1px solid var(--edge); border-radius:10px; padding:6px 8px; cursor:pointer;
}

/* Chat */
.chat-wrap{
  width:min(980px, 92vw);
  margin: 110px auto 40px;   /* centrado vertical con respiro inferior */
  display:flex; flex-direction:column; gap:12px;
}
.chat-head .title{
  margin:0; font-family:'Creepster', sans-serif; letter-spacing:1px;
  text-shadow:0 0 14px rgba(247,183,51,.18), 0 2px 0 rgba(0,0,0,.6);
  font-size: clamp(1.6rem, 2.1vw + 1rem, 2.4rem);
}
.chat-head .subtitle{ margin:.2rem 0 0; color:var(--muted); }

.thread{
  min-height: 340px; max-height: 52vh; overflow:auto;
  padding:14px; border-radius:16px;
  background:var(--glass); border:1px solid var(--edge); box-shadow:var(--shadow);
}

/* ====== BURBUJAS DEL CHAT ====== */
.msg { display: flex; margin: 8px 0; }
.msg.bot   { justify-content: flex-start; }
.msg.user  { justify-content: flex-end; }

.msg .bubble{
  max-width: 70ch;
  padding: 10px 14px;
  border-radius: 14px;
  font-size: 16px;        /* evita font-size:0 heredado por animación */
  line-height: 1.45;      /* da altura al texto */
  color: #e9eef8;         /* asegura contraste */
  background: rgba(255,255,255,.05);
  border: 1px solid rgba(255,255,255,.12);
  white-space: pre-wrap;  /* respeta saltos de línea */
  opacity: 1 !important;  /* por si alguna animación deja 0 */
}

.msg.bot  .bubble{ background: rgba(255,255,255,.06); }
.msg.user .bubble{
  background: linear-gradient(180deg, #7da0ff, #6b8cff);
  color: #0b0f18;
  border-color: rgba(255,255,255,.25);
}

/* Si tenías animaciones que arrancaban en 0, evitá que pisen el texto */
.msg .bubble * { opacity: 1 !important; }


/* Quick replies */
.replies{ display:flex; flex-wrap:wrap; gap:8px; }
.qr{
  background: rgba(255,255,255,.08); border:1px solid var(--edge);
  color:var(--text); border-radius:999px; padding:8px 12px; cursor:pointer; font-weight:800;
}
.qr:hover{ background: rgba(255,255,255,.14); }

/* Código */
.code-form{
  display:flex; gap:8px; margin-top:4px;
}
.code-form input{
  flex:1; padding:10px 12px; border-radius:10px; border:1px solid var(--edge);
  background:rgba(9,14,24,.58); color:var(--text);
}
